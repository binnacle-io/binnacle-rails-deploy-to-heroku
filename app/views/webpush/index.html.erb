<div class="page-header">
  <h1>Web Push Notifications</h1>
</div>

<div class="bs-callout bs-callout-info">
  <h4>Sending Browser-Native Web Push Notifications</h4>
  <p>
    Binnacle can send browser-native <a href="https://developer.mozilla.org/en-US/docs/Web/API/Push_API" target="blank">Web Push</a>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/notification" target="blank">Notifications</a>. 
  </p>
    <div class="zero-clipboard"><%= button_to "Try it!", webpush_trigger_path, remote: true, class: "btn-clipboard", data: { container: "body", toggle: "popover", trigger: "hover", placement:"left", title: "Try it!", content: "Trigger the logging statements and watch them live on binnacle.io"} %></div>
  <figure class="highlight">
    <pre>
      <code class="language-ruby" data-lang="ruby">
def trigger
  client = Binnacle::Client.new(ENV['BINNACLE_API_KEY'], ENV['BINNACLE_API_SECRET'])
  client.signal_asynch(ENV['BINNACLE_WP_CHANNEL'], 'push_one',
                                              current_user.id,
                                              '',
                                              'INFO',
                                              [],
                                              { user: current_user.name })
end
      </code>
    </pre>
  </figure>
</div>

<div class="bs-callout bs-callout-info">
  <h4>Web Notification Templates</h4>
  <p>
    You can create "Web Notification Templates"" on binnacle.io. These templates determine the title, body, icon and URL of the Push Notification.
    Below is a screenshot of the notification template used for the example on this page.
  </p>
</div>

<div class="bs-callout bs-callout-info">
  <h4>The Power of Web Notification Templates and Routing Rules</h4>
  <p>
  With one or more templates in place you can then create "Binnacle Routing Rules" that can trigger these notifications based on an incoming signal.
  These two constructs together allow for maximum flexibility with minimal (typically zone) changes to your system. Below is a screenshot of the routing 
  rule used for the example on this page.
  </p>
</div>


